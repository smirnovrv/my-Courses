
#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)
	НоваяСтрока = Объект.КомментарииИФайлы.Добавить();
	НоваяСтрока.Комментарий 	= ВыбранноеЗначение.Комментарий;
	НоваяСтрока.СсылкаНаФайл 	= ВыбранноеЗначение.Файл;
	
	Модифицированность = Истина;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормыКомментарииИФайлы
&НаКлиенте
Процедура КомментарииИФайлыПриАктивизацииСтроки(Элемент)
	СсылкаНаКартинку = Элементы.КомментарииИФайлы.ТекущиеДанные;
	КомментарииИФайлыПриАктивизацииСтрокиНаСервере(СсылкаНаКартинку.СсылканаФайл);
КонецПроцедуры
#КонецОбласти

#Область ОбработчикиКомандФормы
&НаКлиенте
Процедура ДобавитьКомментарий(Команда)
	
	ОткрытьФорму("Справочник.ЗанятияКурса.Форма.ФормаКомментария", , ЭтотОбъект, КлючУникальности,,,, РежимОткрытияОкнаФормы.БлокироватьОкноВладельца);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура КомментарииИФайлыПриАктивизацииСтрокиНаСервере(СсылкаНаКартинку)
	ТекущееФото = ПолучитьНавигационнуюСсылку(СсылкаНаКартинку, "ФайлХранилище");
	// ТекущийОбъект.Подпись = новый ХранилищеЗначения(ПолучитьИзВременногоХранилища(АдресВХранилище));
КонецПроцедуры
#КонецОбласти
